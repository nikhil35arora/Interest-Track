<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Transaction Details | InterestTrack</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <h2 class="logo">Interest<span>Track</span></h2>
            <ul id="main-nav">
                </ul>
        </nav>

        <main class="main-content">
    <div style="margin-bottom: 20px;">
        <button onclick="history.back()" class="btn-back">
            ← Back to Transactions
        </button>
    </div>

    <header class="history-header">
        <h1 id="detail-title">Ledger Detail: Loading...</h1>
        <button class="btn-print" onclick="window.print()">Print Receipt</button>
    </header>
    
    </main>

            <div class="details-grid">
                <aside class="summary-box">
                    <h3>Summary</h3>
                    <p>Total Principal: <strong>₹50,000</strong></p>
                    <p>Interest Rate: <strong>2% Monthly</strong></p>
                    <p>Duration: <strong>6 Months</strong></p>
                    <hr>
                    <p>Total Interest: <strong>₹6,000</strong></p>
                    <h2 style="color:var(--light-blue)">Total: ₹56,000</h2>
                    
                    <div class="screenshot-preview">
                        <p style="color:#718096; font-size:12px;">Screenshot of Receipt</p>
                    </div>
                </aside>

               <aside class="summary-box">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                     <h3>Summary</h3>
                     <span id="transaction-status" class="badge badge-pending">PENDING</span>
                    </div>
                    <p>Total Principal: <strong>₹50,000</strong></p>
                    <p>Interest Rate: <strong>2% Monthly</strong></p>
                    <hr>
                    <h2 style="color:var(--light-blue)">Total: ₹56,000</h2>
                    <div class="action-buttons">
                        <button class="btn-success" onclick="toggleStatus('cleared')">Mark as Paid</button>
                        <button class="btn-secondary" onclick="toggleStatus('pending')">Reopen</button>
                    </div>
                    <div class="screenshot-preview">
                        <p style="color:#718096; font-size:12px;">Screenshot of Receipt</p>
                    </div>
                </aside>

<script src="auth.js"></script>
<script>
    function toggleStatus(status) {
        const badge = document.getElementById('transaction-status');
        if (status === 'cleared') {
            badge.innerText = 'CLEARED';
            badge.className = 'badge badge-cleared';
            alert('Transaction marked as Fully Paid!');
        } else {
            badge.innerText = 'PENDING';
            badge.className = 'badge badge-pending';
        }
    }
</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // 1. Get the name from the URL (?name=Rahul)
        const urlParams = new URLSearchParams(window.location.search);
        const contactName = urlParams.get('name');

        // 2. If a name exists, update the title
        if (contactName) {
            document.getElementById('detail-title').innerText = `Ledger Detail: ${contactName}`;
            
            // In a full app, you would now use this name to fetch 
            // their specific data from the database.
        } else {
            document.getElementById('detail-title').innerText = "Transaction Details";
        }
    });
</script>
            </div>
        </main>
    </div>
    <script src="auth.js"></script>
</body>
</html>